language: node_js
before_script:
  if [ $IS_INTEGRATION_TEST ]; then npm run development & echo "Starting App for Integration Tests"; else echo "Not an integration test. Skipping app setup"; fi
script: npm run $TEST
addons:
  hosts:
  - bs-local.com
notifications:
  email: false
  slack:
    on_success: change
    on_failure: always
    on_pull_requests: false
    rooms:
    - secure: cVafioxYjLxi6RkGvgt1iSvKyz0c6IpC3JkfXSwd63LiSzX82ZyGmeCMZpUzeLVOc/jCrcTCQL6bPcMUrgyBtibpVti9rZwi7c1FzWjTEXvVB8nO7Daa43sa5zFe3Bf61xgA+2O3mzgVxOsoTx7y/9ptNoCt5ViIFGwWIEGSOmGSR4U0CLN/sAg7tlaa6xIif7oePsZId/6lbweKhrvxCKscio4ZUw8L6HhTQgTl2Hi2jf9/kpYbQY4NpyvKNIPygX4yZAGVZQDA14qhz9HAz0np4Xj5iKQVM468LDiexkP8ZeM+gdoAjHzyrPKtKnxfWB2CCYSEb5BaP7e6M4nwchcsYJ8YZdVJXiorthqh/oYojI54AKdUgz/ii+pnOmIFG0hAHPGL8s5Vw07QoQzM93XJFSuJ4ZhUzcsx5SeATtjXps8T3IZK7/9AwRzLvMqny5i6iUw1ZaVftrihIfX41vDkZMomsOpoZzCyhKK3g/xXsTbHwAj/ZiliUeadxJp+KApaMSphyTx6Soht4MYR/aSxZ1VFreNYD7PChmlne8MqwMYQ5vdjES2BDvD6Xhp1CL3MkHnCtkxAFzziGLOmhkqGnt84CQhPAVZQOxE7kIUY+Gq7ENrNIrz7vSv6aYQ6wTEnsynjR8EIF2An0fO+evqHhXPnGJaEFV4Mcw7TMxI=
env:
  matrix:
  - TEST="test"
  # hint is currently messed up :(
  # - TEST="test:hint"
  - TEST="test:publishing"
  - TEST="test:integration:paypal-only" ONLY_BROWSERS=chrome,safari,firefox IS_INTEGRATION_TEST=true
  - TEST="test:integration:paypal-only" ONLY_BROWSERS=ie IS_INTEGRATION_TEST=true
  - TEST="test:integration:paypal-skipped" ONLY_BROWSERS=chrome,firefox,safari IS_INTEGRATION_TEST=true
  - TEST="test:integration:paypal-skipped" ONLY_BROWSERS=ie IS_INTEGRATION_TEST=true
  global:
  - secure: K5upcnJ4vYZJFVWM+7W17EBhPWtXP1tpu6c6Y5YQUxqiAg1MEKf+83pFAvXWR2qnPaViRsHua2eNNKZ45VjQ7PyQUl93IhaBS6rT3PxHpNABGRrCvsddWkJu2Ue1FCj4qTEMHAE50Rv1iAsQX4fd2HNsooDXOhkXoRMa3L1NPOdVO8Efq1W7BaUNaB83/XTxIMOZRrov0HEx+lb8Sqx34wENXDJXzKcs1lk5Ir/MUemCPQaHNBiOe2JxrD/2nm+CL35sUlOiSAexqKeH8jvToolKXJvOCm00YSxXOB4s6z1ZtZ7dR65YUEhU1EOdhZOfNFRS9q1VOaHXpJlErGV0yFUQtfeev0Gv57vBI2SOqREczKABLkvM1QQwc8O+QFaJcojZPjVM8w21PQevjtS8dEE/AP+x1nEUz6n13W1dMj7546rInO+ik4hDPtigQNcXNXmlNF1Eax5vVIy84TfKkOmIffQqhDn8+2Eh5HHPqMNYStcrET4K9QCzsNsSB1NWozPCkNai5xzBFTZtOU/e9vmsB8lxfwpS2Atpkbh8WBiZBXCFnaRr/5KBpHdc9kGIcvHIt904indZa3SeqhaIDUaxKCVfkcSuA2Bk0Nl25+oC0JxKlp5THX0mFp/DcnUas//YZ9xvWtEPvnLTN36ZqC3wckYJaSeLJWn/KEvv3RU=
  - secure: WSiLBlO90NJl/AITWjnEePvqbwkd5i+SAdlZ59HYUEzzsCb4ZqVq9xaPJmmRi4GQRG7pTdNVnJNhiwN/8z6hZC4YljTp5tHokjsXhaOe8m9UBoxFsuPgXecFbKMeiw3+OPVjpYKNenynDrS12ho7AArx8LPF2P+2AoVmhuGDaxigmAHYQQleEhwGW93HjJUfCJ724XwuaFzU+r6DHFXNgxFVJPuqClJyn8h2fSu0i4KahHSeiz5w2MFQW4Nn54fAJng6HGlTuWEWmeHe4/gpaofaSr5mWxEIcHz60STHV2ealj8SmMvpYI1BDVEYt3KlLFdgN5EtXkCeFq5D4h2nrVW/3EcDcKHCM60Z7EaaC0HA9QIjwxVDsMRQUS17e0XfPtxHiRxZYb99WxTgHLEqVnXvk2dToIg+Rd9MJMsAtuuJFnuXNvx8L7b0BXxk+NdW32JRIjIzIx7SBsUHNrVLzHinuuyHNOsXxTnJdzRRjQigebXNKeSdAH2/nZBfhaWT+ah22sfJFjhIrvaZE1A7pnxLpa5iNe1Nq08NTOZ5o5z2VBSzD3tRNfkyxcIW4FW610kAHfLFGoyzHuJ3gLYURjoD19zLmRz01UD/qdLVuN+ZBm9GnPZkRzH2rDoRv5kkSqe3x4X/uwgvtHZGvpEA4GJT3visZ1B9ivaJtkYIyko=
  - secure: bnc57uGho0zeKv+us2yR00FxhUsvSk/VzBz2OEknAQnfhnAu64NoPd7JhU0UkmSG88vupT3eZiK8LNWnEALSmyips18nuCHADRDAV9W1tjimA0KXMJGGT2QuQd0hMuyXkPfAuSDE7gXdD2Slm4oYd41tB1slGx9XixuV+wrWZFg/MUf9y4HbS7MPURHEyvp6DUelvTwI0An6IP68uXeotawOVfG7dEqKlkezKuuJKg8Tu097LiC731DXuTEVX2SwXaNOs7YwRFPjAdY0knRQyDVWRL88g+Y/SyZbPSRUj9FTywPNblrtUK0ex1jvcImGP/6qbUSm0SqR4iv6fc1oy3LntKtu4UkK4S478kaNH9ZFo7WfaifVKWYTzmtav8SM9H/pQpdFiALxQ4Btm1JVvwZAOcavJ2UiEczIxH9J83/xc0uxsmArydXEhElM25f6mry3LFn95MMbXYrNH5ORZMABWEeAOS9L9CzuthkMRGNAyxTc1bB5S+boQQt8BO+A2/k6af5KjpvBuKG5aEyNjciyk2Nhw3uLAc2sBooaPxe6VyWDXF6PpbGcEFNiZAvk7eWDPLa4MTTdkVpbbZksQG6ijq7HcQol+GR4okDxaIb0kVzK3m/kwvZBdTSTTHRKnMQCgfvGwRiJNjM1kOZ2p7B4E2o0yxwei1QHPEIJAcI=
  - secure: m6+Sy0YgYwIkk7ovWYytdBKgd5tzrRRwc8733r48SSUXUcQzhU9kC5q6AwmZKuGbCse5Q80d/Rxk0bBlFoeak4jQSQH+6C3MJItngBAQrFNI6pIpXZJ8sHWFqAYvcWSNVJtZxFlT9YhTF1Adr0XkWsb53wHAQk1qzrm8ANAlCKNVLEKUJQdCtJpXP29VkI4PgEFotBuhXdckbLaTsI21S4DEGu/TkyzNtWhgx29Uczn+LBk8j+Iono1Ghnh6pULnyM32v+zCZpploWZMdO0EpUtTYP9P8MS/DLjwCUerKvi+i/wIh+aEX2PiO1jfCn2IHEKo8QrlpjoHW3+xeNiXMt0WpnSUgcA3hU/1bV3sChCXHqVld8D6iapgSQ5qLDLmirnWK6V6dNvF8b25u1mBRyQt0Q+Ncyf6m8YAVF0FaNorfwrWBZtI0lTrjYPIWNGRwy3CZEQ0wn0Lv/L1da0U6+BI8Ct1Al65l6CPCIaJcQgRLdvoYYnr0bvzQzY9vKbnyOam2S0lTYh2PSZ+CLHjf9SUQ4qnc38HWwY/5C+lkaxxkm5Kj6x1UE1AKJVqRslTgEeh881AYS6/4o+Ma2z73DCYxq24M+HZwdwOKnvkdwgm9/Kwhch1X/iQXW75VFy46zl/DwBqJA8YD5oVfxWf/DlF1K88kR2B+kLANvA+mKw=
