<!doctype html>
<html>
<head>

<link rel="stylesheet" type="text/css" href="/web/dropin/dev/css/dropin.min.css">
<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="IE=Edge"/>
<title>Drop-in demo</title>
<style>

  html {
    font-family: sans-serif;
    font-size: 16pt;
    background: #f9f9f9;
  }

  body {
    width: 95%;
    max-width: 500px;
    margin: 0 auto;
  }

  #dropin-container, #checkout-form {
    margin-bottom: 1em;
  }

  #error {
    background: #fee;
    color: tomato;
    padding: 15px;
  }

  #error:empty {
    display: none;
  }

  input[type="submit"] {
    font: inherit;
    padding: 0.5em 1em;
    border: 1px solid #d9d9d9;
    background: #f2f2f2;
    background-image: linear-gradient(-180deg,#f2f2f2 0,#e6e6e6 100%);
  }

</style>

</head>
<body>

<h1>Braintree Drop-in demo</h1>

<p>You can create a <a href="https://developer.paypal.com/docs/classic/lifecycle/sb_about-accounts/#creating-sandbox-test-accounts" target="_blank" rel="nofollow">PayPal Sandbox account</a> to test the PayPal flow.</p>

<pre id="error"></pre>

<form id="checkout-form">
  <div id="dropin-container"></div>

  <input type="submit" value="Pay">
</form>

<pre id="results"></pre>

<script src="/web/dropin/dev/js/dropin.min.js"></script>

<script>
  // If you are copying this demo app for your integration,
  // use your own client token or tokenization key
  var authorization = 'sandbox_f252zhq7_hh4cpc39zq4rgjcg';

  braintree.dropin.create({
    authorization: authorization,
    selector: '#dropin-container',
    paypal: {
      flow: 'checkout',
      amount: '10.00', // be sure to validate this amount on your server
      currency: 'USD'
    }
  }, function (err, dropinInstance) {
    var form = document.querySelector('#checkout-form');
    var results = document.querySelector('#results');
    var error = document.querySelector('#error');

    if (err) {
      console.error('There was an error creating Drop-in.');
      error.textContent = err.message;
      throw err;
    }

    form.addEventListener('submit', function (event) {
      event.preventDefault();

      dropinInstance.requestPaymentMethod(function (err, payload) {
        if (err) {
          error.textContent = err.message;
        } else {
          results.textContent = JSON.stringify(payload, null, 2);
        }
      });
    }, false);
  });

</script>

</body>
</html>
